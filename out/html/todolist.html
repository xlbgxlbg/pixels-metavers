<!DOCTYPE html>
<html lang="en">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />   

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truffle Contract Page</title>
    <script src="https://unpkg.com/web3@1.5.2/dist/web3.min.js"></script>
    <script src="../js/todolist.js"></script>
    <script src="../contract.js"></script>
</head>

<body>
    <script>
        getContract(todolist)
    </script>
    <div>
	
        <script>
            async function getlistsvalue() {
              
              const dom0 = document.getElementById("listsparamas")
              if(dom0.value === ""){
                window.alert("lists值为空")
                return
              }
              
              const data = await contract.methods.lists(dom0.value,).send({ from: accounts[0] });
        const dom = document.getElementById("lists");
		dom.innerHTML = true 
		getAllFunData()
        console.log("lists", data)
      }
        </script>
  <button style="margin: 10px" onclick="getlistsvalue()">
    lists
  </button>

            <input id = "listsparamas" placeholder="uint256" type="number"/>
            
        <span id="lists">
                  </span>
    </div >
  
    <div>
	
        <script>
            async function getaddvalue() {
              
              const dom0 = document.getElementById("addcontentparamas")
              if(dom0.value === ""){
                window.alert("add值为空")
                return
              }
              
              const data = await contract.methods.add(dom0.value,).send({ from: accounts[0] });
        const dom = document.getElementById("add");
		dom.innerHTML = true 
		getAllFunData()
        console.log("add", data)
      }
        </script>
  <button style="margin: 10px" onclick="getaddvalue()">
    add
  </button>

            <input id = "addcontentparamas" placeholder="content" type="string"/>
            
        <span id="add">
                  </span>
    </div >
  
    <div>
	
  <script>
  async function getgetLengthvalue() {
  const data = await contract.methods.getLength().send({ from: accounts[0] });
  const dom = document.getElementById("getLength");
  dom.innerHTML = typeof data !== 'object' ? data : JSON.stringify(data);
  console.log("getLength", data)
}
        </script>
  <button style="margin: 10px" onclick="getgetLengthvalue()">
    getLength
  </button>
  <span id="getLength">
  </span>
		
    </div >
  
    <div>
	
        <script>
            async function getdonevalue() {
              
              const dom0 = document.getElementById("doneidparamas")
              if(dom0.value === ""){
                window.alert("done值为空")
                return
              }
              
              const data = await contract.methods.done(dom0.value,).send({ from: accounts[0] });
        const dom = document.getElementById("done");
		dom.innerHTML = true 
		getAllFunData()
        console.log("done", data)
      }
        </script>
  <button style="margin: 10px" onclick="getdonevalue()">
    done
  </button>

            <input id = "doneidparamas" placeholder="id" type="number"/>
            
        <span id="done">
                  </span>
    </div >
  
    <div>
	
        <script>
            async function getremovevalue() {
              
              const dom0 = document.getElementById("removeidparamas")
              if(dom0.value === ""){
                window.alert("remove值为空")
                return
              }
              
              const data = await contract.methods.remove(dom0.value,).send({ from: accounts[0] });
        const dom = document.getElementById("remove");
		dom.innerHTML = true 
		getAllFunData()
        console.log("remove", data)
      }
        </script>
  <button style="margin: 10px" onclick="getremovevalue()">
    remove
  </button>

            <input id = "removeidparamas" placeholder="id" type="number"/>
            
        <span id="remove">
                  </span>
    </div >
  
	<script>
		let allFunArrList = []
	function getAllFunData(){
		for(let i=0; i<allFunArrList.length; i++){
			allFunArrList[i]()
		}
	}
	</script>

</body >
  <html>